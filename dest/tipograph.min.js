/**
 * tipograph v0.4.0 | Copyright (c) 2018 Petr Nevyhoštěný
 */

var tipograph=function(){"use strict";var e=Object.freeze({html:function(){var e="</?[a-zA-Z0-9-]+[^>]*>",r="\\s?<pre(?:>|\\s[^>]*>)[\\s\\S]*</pre>\\s?",t="\\s?<code(?:>|\\s[^>]*>)[\\s\\S]*</code>\\s?",s="<style(?:>|\\s[^>]*>)[\\s\\S]*</style>",n="<script(?:>|\\s[^>]*>)[\\s\\S]*<\/script>";return function(o){for(var u=new RegExp([r,t,s,n,e].join("|"),"gi"),i=null,a=0,g=[];null!==(i=u.exec(o));)g.push({transform:!0,content:o.slice(a,i.index)}),g.push({transform:!1,content:i[0]}),a=u.lastIndex;return g.push({transform:!0,content:o.slice(a)}),g}},plain:function(){return function(e){return[{transform:!0,content:e}]}}}),r="“",t="”",s="‘",n="’",o="„",u="«",i="»",a={quotes:[["「","」"],["『","』"]],rules:[]},g={quotes:[[o,r],["‚",s]],rules:[[/([KkSsVvZzOoUuAI])(?:\s+)(\S)/g,"$1 $2"]]},c={quotes:[[i,u],[o,r]],rules:[]},f={quotes:[[r,t],[s,n]],rules:[]},p={quotes:[[t,t],[n,n]],rules:[]},l={quotes:[["« "," »"],[r,t]],rules:[]},h={quotes:[[o,r],["‚",s]],rules:[]},$={quotes:[[u,i],[r,t]],rules:[]},d={quotes:[["「","」"],["『","』"]],rules:[]},m={quotes:[[u,i],[n,n]],rules:[]},q={quotes:[[o,t],[u,i]],rules:[]},y={quotes:[[r,t],[s,n]],rules:[]},w={quotes:[[u,i],[o,r]],rules:[]},v={quotes:[[u,i],[r,t]],rules:[]},j={quotes:[[t,t],[n,n]],rules:[]},b={quotes:[[u,i],["‹","›"]],rules:[]},O=Object.freeze({chinese:a,czech:g,danish:c,english:f,finnish:p,french:l,german:h,italian:$,japanese:d,norwegian:m,polish:q,portuguese:y,russian:w,spanish:v,swedish:j,swiss:b});var S=Object.freeze({hyphens:function(){return[[/\u0020*---(\r?\n|$)/g," —$1"],[/\u0020*---\u0020*/g," — "],[/\u0020+-\u0020+/g," — "],[/--/g,"–"],[/(\d)-(\d)/g,"$1–$2"]]},language:function(e){return e.rules},math:function(){return[[/(\d\s)-(\s\d)/g,"$1−$2"],[/\+-/g,"±"],[/-(\d)/g,"−$1"],[/(\d\s)[x*](\s\d)/g,"$1×$2"],[/(\d\s)\/(\s\d)/g,"$1÷$2"],[/!=/g,"≠"]]},quotes:function(e){var r=e.quotes[0][0],t=e.quotes[0][1],s=e.quotes[1][0],n=e.quotes[1][1];return[[/(\s|\(|^),,([^"']+)(\S)(?:"|'')/g,"$1„$2$3"+t],[/(\s|\(|^),(?!\s)([^']+)(\S)'/g,"$1‚$2$3"+n],[/([a-z])'([a-z])/gi,"$1’$2"],[/(\s)'(\d{2})/g,"$1’$2"],[/(\s|\(|^)"(?!\s)([^"]+)(\S)"/g,"$1"+r+"$2$3"+t],[/(\s|\(|^)'(?!\s)([^']+)(\S)'/g,"$1"+s+"$2$3"+n],[/(\d)"/g,"$1″"],[/(\d)'/g,"$1′"]]},spaces:function(){return[[/ {2,}/g," "],[/(\u00B6|\u00A7|\u00A9|\u2122|\u00AE) /g,"$1 "]]},symbols:function(){return[[/(\s|^)\((?:c|C)\)\s?/g,"$1© "],[/\((?:tm|TM)\)\s?/g,"™ "],[/\((?:r|R)\)\s?/g,"® "],[/([^.]|^)\.\.\.([^.]|$)/g,"$1…$2"],[/<-/g,"←"],[/->/g,"→"]]}}),A={format:"plain",language:"english",presets:Object.keys(S)};return function(r){var t=function(r){if("string"==typeof r){if(void 0!==e[r])return e[r]();throw new Error("Unsupported format: "+r+". Choose one from "+Object.keys(e).join(", ")+" or pass a function.")}if("function"==typeof r)return r();throw new Error("Format option must be either string or function.")}((r=Object.assign({},A,r)).format),s=function(e){if("string"==typeof e){if(void 0!==O[e])return O[e];throw new Error("Unsupported language: "+e+". Choose one from "+Object.keys(O).join(", ")+" or pass a object.")}if("object"==typeof e)return void 0===e.quotes&&(e.quotes=f.quotes),void 0===e.custom&&(e.custom=f.custom),e;throw new Error("Language option must be either string or object.")}(r.language),n=function(e,r){if(Array.isArray(e))return e.map(function(e){if("string"==typeof e&&void 0===S[e])throw new Error("Unsupported preset: "+e+". Choose one from "+Object.keys(S).join(", ")+".");return Array.isArray(e)?e(r):S[e](r)});throw new Error("Presets option must be either array containing a preset name or preset definition.")}(r.presets,s);return function(e){if("string"!=typeof e)throw new Error("Only strings are supported as input.");e=t(e);for(var r=[],s="",o=0;o<e.length;o++)e[o].transform?s+=e[o].content:(s+="<tipograph["+r.length+"]>",r.push(e[o].content));for(var u=0;u<n.length;u++)for(var i=0;i<n[u].length;i++){var a=n[u][i];s=s.replace(a[0],a[1])}return s.replace(/<tipograph\[(\d+)\]>/g,function(e,t){return r[t]})}}}();
